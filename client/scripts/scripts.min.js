(function($,window,undefined){var pluginName="touchClick";var defaults={className:"active",callback:function(){console.log("touchClick")}};var isTouch=("ontouchend" in window);var touchstartEvent=isTouch?"touchstart."+pluginName:"mousedown."+pluginName;var touchmoveEvent=isTouch?"touchmove."+pluginName:"mousemove."+pluginName;var touchendEvent=isTouch?"touchend."+pluginName:"mouseup."+pluginName;function Plugin(element,className,callback){this.element=element;if(typeof className==="function"){this.options={};this.options.className=defaults.className;this.options.callback=className}else{this.options={className:className||defaults.className,callback:callback||defaults.callback}}this._defaults=defaults;this._name=pluginName;this.init()}Plugin.prototype.init=function(){var self=this;var $element=$(self.element);var className=self.options.className;var callback=self.options.callback;$element.bind(touchstartEvent,function(e){this.touchClickStart=true;$element.addClass(className)}).bind(touchmoveEvent,function(e){if(this.touchClickStart){this.touchClickStart=undefined;$element.removeClass(className)}}).bind(touchendEvent,function(e){var dom=this;if(this.touchClickStart){this.touchClickStart=undefined;$element.removeClass(className);setTimeout(function(){$.proxy(callback,dom)(e)},0)}})};$.fn[pluginName]=function(className,callback){return this.each(function(){if(!$.data(this,"plugin_"+pluginName)){$.data(this,"plugin_"+pluginName,new Plugin(this,className,callback))}})}})(jQuery,window);

$(document).ready (function () {

	if ($('div').hasClass('gallery')) {
	
		var $frame = $('.frame'),
			$frameNumber = $frame.length,
			$lastFrame = $frameNumber - 1,
			$thisFrame = 0,
			$nextFrame = 0,
			$prevFrame = 0,
			$wall = $('#wall');
			
		$(".frame").touchClick(function () {
		 	$thisFrame = $frame.index(this);
		 	//	alert('Bild' + $thisFrame + 'Bilder' + $lastFrame);
		 	if($thisFrame < 0 || $thisFrame >= $lastFrame){
		 		return false;
		 	}
		 	else {
			 	$nextFrame = $thisFrame + 1;
		 		$wall.css('left',(-$nextFrame*100)+'%');
		 		if ($thisFrame == ($lastFrame - 1) ) {
		 			$wall.addClass('lastframe');
		 		}
		 	}
		}); 
	} // end has gallery
	
}); // end ready

//$('.frame').touchClick(thisFrame) {
//	alert(index);
//};
	
// alert ($frameNumber);

/*

function removeover() {
	$('#overlay').remove();
}

function showover() {
	$('body').append('<div id="overlay"></div>');
	$("#overlay").touchClick(removeover);
}


$('#showover').touchClick(showover);

*/